include ./layouts/head
include ./layouts/header

section.section-gray.mini-section
  .container.clearfix
    .row
      .col-md-12
        h3.heading #{__('Historique des')}
          span.accent  #{__('versions')}


        each val, index in versions

          div.version-listing(class= val.state === "RELEASE" && displayed === undefined ? "selected" : "")

            if val.state === "RELEASE"
              - displayed = true

            div.row
              div.col-sm-12.col-md-6
                h4.version
                  a(href='#') #{val.version}
                  p.version_changelog #{__('Liste des modifications :')}

                if val.changelog != null
                  ul.changelog
                    each changelog, index in val.changelog['fr_FR']
                      li
                        span.type [#{changelog.type}]
                        |  #{changelog.text}
                else
                  p.text-muted
                    i Aucun changement lors de cette mise à jour

              div.col-md-3
                if val.state == 'PREPARATION'
                  span.text-primary En cours de préparation
                else if val.state == 'DEVELOPMENT'
                  span.text-warning En cours de développement
                else if val.state == 'SNAPSHOT'
                  span.text-info En cours de test
                else if val.state == 'RELEASE'
                  span.text-success Disponible
              div.col-md-3
                if val.state == 'RELEASE'
                  p Sortie le
                    b  #{val.releaseDate.toLocaleString()}
                else if val.releaseDate !== null
                  p Prévue pour le
                    b  #{val.releaseDate.toLocaleString()}
                else
                  p.text-muted
                    i Aucune date de prévue


include ./layouts/footer
